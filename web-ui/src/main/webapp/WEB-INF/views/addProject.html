<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:tiles="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>CodeQ Invest</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link rel="stylesheet" href="../../resources/css/main.css"/>
    <link rel="stylesheet" href="../../resources/css/libs/bootstrap-2.3.2.min.css"/>
    <link rel="stylesheet" href="../../resources/css/libs/bootstrap-responsive-2.3.2.min.css"/>
</head>

<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <div class="brand" th:text="#{app.name}">CodeQ Invest</div>
            <ul class="nav">
                <li class="active"><a href="#" th:text="#{navbar.overview}">Overview</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row-fluid">
    <div tiles:fragment="content">
        <div class="span8 offset2 well">
            <form action="#" method="POST" th:action="@{/projects/add}" th:object="${project}">
                <fieldset>
                    <legend>Add new project</legend>
                    <div class="row-fluid">
                        <div class="span6">
                            <fieldset class="squared-fieldset">
                                <legend class="small-legend no-border" th:text="#{form.legend.settings.general}">General Settings</legend>
                                <div class="row-fluid">
                                    <label class="span4" for="name" th:text="#{form.label.name}">Name:</label>
                                    <input class="span8" type="text" id="name" th:field="*{name}"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="profile" th:text="#{form.label.qualityProfile}">Quality Profile:</label>
                                    <select class="span8" id="profile" th:field="*{profile.id}" th:remove="all-but-first" th:each="profile : ${profiles}">
                                        <option value="0" th:value="${profile.id}" th:text="${profile.name}">My Quality Profile</option>
                                        <option value="1" selected="selected">Company Standard Profile</option>
                                        <option value="2">Default Profile</option>
                                    </select>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="cron" th:text="#{form.label.cron}">CRON Job:</label>
                                    <input class="span8" type="text" id="cron" th:field="*{cronExpression}" placeholder="* * * * * *"/>
                                </div>
                                <div class="row-fluid">
                                    <div class="span8 offset4">
                                        <span class="help-block" th:text="#{form.helper.cron}">e.g. * * * 3 * * for every day at 3:00 AM</span>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="span6">
                            <fieldset class="squared-fieldset">
                                <legend class="small-legend no-border" th:text="#{form.legend.settings.sonar}">Sonar Settings</legend>
                                <div class="row-fluid">
                                    <label class="span4" for="sonarUrl" th:text="#{form.label.url}">URL:</label>
                                    <input class="span8" type="text" id="sonarUrl" th:field="*{sonarConnectionSettings.url}" placeholder="http://sonar.company.com:9000" th:placeholder="#{form.placeholder.sonarUrl}"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="sonarUsername" th:text="#{form.label.username}">Username:</label>
                                    <input class="span8" type="text" id="sonarUsername" th:field="*{sonarConnectionSettings.username}"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="sonarPassword" th:text="#{form.label.password}">Password:</label>
                                    <input class="span8" type="password" id="sonarPassword" th:field="*{sonarConnectionSettings.password}"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="sonarProject" th:text="#{form.label.project}">Project:</label>
                                    <select class="span8" id="sonarProject" th:field="*{sonarConnectionSettings.project}" th:remove="body">
                                        <option value="1" selected="selected">My Project</option>
                                        <option value="2">Company Utils</option>
                                    </select>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span6">
                            <fieldset class="squared-fieldset">
                                <legend class="small-legend no-border" th:text="#{form.legend.settings.codeChange}">Code Change Probability Settings</legend>
                                <div class="row-fluid">
                                    <label class="span4" for="codeMethod" th:text="#{form.label.method}">Method:</label>
                                    <select class="span8" id="codeMethod" th:field="*{codeChangeSettings.method}" th:remove="body">
                                        <option value="1" selected="selected">Default</option>
                                        <option value="2">Weighted</option>
                                    </select>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="codeDays" th:text="#{form.label.days}">Number of days:</label>
                                    <input class="span8" type="text" id="codeDays" th:field="*{codeChangeSettings.days}"/>
                                </div>
                            </fieldset>
                        </div>
                        <div class="span6">
                            <fieldset class="squared-fieldset">
                                <legend class="small-legend no-border" th:text="#{form.legend.settings.scm}">SCM Settings</legend>
                                <div class="row-fluid">
                                    <label class="span4" for="scmSystem" th:text="#{form.label.system}">System:</label>
                                    <select class="span8" id="scmSystem" th:field="*{scmSettings.type}" th:remove="body">
                                        <option value="1" selected="selected">Subversion</option>
                                    </select>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="scmUrl" th:text="#{form.label.url}">URL:</label>
                                    <input class="span8" type="text" id="scmUrl" th:field="*{scmSettings.url}" placeholder="scm:svn:https://svn.company.com/repo/trunk/src/main/java" th:placeholder="#{form.placeholder.scmUrl}"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="scmEncoding" th:text="#{form.label.encoding}">Enocding:</label>
                                    <input class="span8" type="text" id="scmEncoding" th:field="*{scmSettings.encoding}"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="scmUsername" th:text="#{form.label.username}">Username:</label>
                                    <input class="span8" type="text" id="scmUsername" th:field="*{scmSettings.username}"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span4" for="scmPassword" th:text="#{form.label.password}">Password:</label>
                                    <input class="span8" type="password" id="scmPassword" th:field="*{scmSettings.password}"/>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </fieldset>
                <div class="form-actions text-center">
                    <button class="btn btn-primary btn-large" type="submit" th:text="#{form.button.addProject}">Add project</button>
                </div>
            </form>
        </div>
    </div>
    </div>
</div>

<script src="../../resources/js/libs/jquery-1.9.1.min.js"></script>
<script src="../../resources/js/libs/bootstrap-2.3.2.min.js"></script>
</body>
</html>